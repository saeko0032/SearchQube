# SearchQube

## 端末管理アプリケーション

### 概要
このアプリケーションは、端末の貸出しと返却を管理するためのものです。C#と.NET 8を使用し、WPFとMVVM設計パターンで構築されています。

### 使用技術
- C#
- .NET 8
- WPF
- MVVM

### 画面と機能
1. **Home画面**
   - 文字: "Search Qube"というタイトルと"Scan Employee ID"が表示されています
   - 機能: USB接続されたIC Cardからの入力を待ちます。IC Cardにカードがタッチされたとき、ユーザ情報を読み取り、ユーザ情報に含まれるemployee IDとローカルに保存しているexcelファイルのemployee IDを比較します
   - 分岐: 読み取りと比較に成功したときは、Burrow or Return画面に遷移します。このとき、ユーザ情報のSESAIDをローカルのプロパティに保持します。読み取り化比較に失敗したときはエラー画面に遷移します。

2. **エラー画面**
   - 文字: "Unknown user"
   - 機能: Home画面で読み取りが失敗したときに表示されます。前のページに戻ることができるボタンを持っています。

3. **Burrow or Return画面**
   - 文字: "Burrow or Return?"
   - ボタン: BurrowボタンとReturnボタンを持っています
   - 分岐: Burrowボタンを押すとBurrow画面に遷移します。Returnボタンを押すとReturn画面に遷移します。この画面も前に戻ることができるボタンを持っています。

4. **Burrow画面**
   - 文字: "Burrow Equipment + ScanRFID"
   - ボタン: OKボタンを持っています
   - 機能: USB接続されたRFID Cardからの入力を待ちます。USB接続されたRFIDカードリーダにタグがタッチされてScanを実施して15秒経過またはOkを押すと、機器情報を読み取り、機器情報に含まれる端末IDとローカルに保存しているexcelファイルの端末IDを比較します
   - 分岐: 比較に成功した場合、Burrow Equipment List画面に遷移します。比較に失敗した場合、端末処理失敗画面に遷移します。この画面も前に戻ることができるボタンを持っています。

5. **Burrow Equipment List画面**
   - 文字: Burrow画面で一致した端末IDと機器情報にある場所情報を表形式で表示します。
   - ボタン: OKボタンを持っています
   - 機能: Burrow画面で読み取った機器を表形式で表示します。複数機器を表示できます。OKボタンを押されたとき、ローカルのMYSQLDBにユニークキーを端末IDにして、機器情報を書き込みます
   - 分岐: OKボタンを押すと、端末処理成功画面に遷移します。この画面も前に戻ることができるボタンを持っています。

6. **Return画面**
   - 文字: "Burrow Equipment + ScanRFID"
   - ボタン: OKボタンを持っています
   - 機能: USB接続されたRFID Cardからの入力を待ちます。USB接続されたRFIDカードリーダにタグがタッチされてScanを実施して15秒経過またはOkを押すと、機器情報を読み取り、機器情報に含まれる端末IDとローカルに保存しているexcelファイルの端末IDを比較します
   - 分岐: 比較に成功した場合、Return Equipment List画面に遷移します。比較に失敗した場合、端末処理失敗画面に遷移します。この画面も前に戻ることができるボタンを持っています。

7. **Return Equipment List画面**
   - 文字: Return画面で一致した端末IDと機器情報にある場所情報を表形式で表示します。
   - 機能: Return画面で読み取った機器を表形式で表示します。複数機器を表示できます。OKボタンを押されたとき、ローカルのMYSQLDBにユニークキー端末IDの行を削除します。
   - 分岐: OKボタンを押すと、端末処理成功画面に遷移します。この画面も前に戻ることができるボタンを持っています。

8. **端末処理成功画面**
   - 文字: "Success"
   - ボタン: HomeボタンとLogOutボタンを持っています
   - 分岐: Homeボタンを押すとHome画面に遷移します。Logoutボタンを押すと、ローカルに保持していたSESAIDプロパティの値を削除し、Home画面に遷移します。

9. **端末処理失敗画面**
   - 文字: "Error Unknown Equipment"
   - ボタン: LogOutボタンを持っています
   - 分岐: Logoutボタンを押すと、ローカルに保持していたSESAIDプロパティの値を削除し、Home画面に遷移します。この画面も前に戻ることができるボタンを持っています。

### ビルド手順
1. Visual Studioをインストールします。
2. このリポジトリをクローンします。
3. `SearchQube.sln`ファイルをVisual Studioで開きます。
4. ソリューションをビルドします。

### 実行手順
1. Visual Studioでソリューションをビルドした後、`SearchQube`プロジェクトをスタートアッププロジェクトに設定します。
2. デバッグモードでアプリケーションを実行します。
3. 各画面の指示に従って操作します。
